@import "../abstracts/variables";
@import "../abstracts/mixins";

@mixin header($bg-image, $bg-position) {
  background-size: cover;
  background-image: $bg-image;
  background-position: $bg-position;
  text-align: center;
  width: 100%;
  height: 100vh;
  background-size: cover;

  &--title {
    display: block;
    font-size: $font-size-header-lg * 0.8;
    margin-top: 7.2rem;
    margin-bottom: $margin-flex-lg;
    color: $col-accent-primary;
  }
}

@mixin link-btn($text-color, $border) {
  & a {
    @include btn--default($border-accent-thin);
    border-left: none;
    border-right: none;
    padding: 0.6rem;
    color: $text-color;
    border-top: $border;
    border-bottom: $border;

    &:hover {
      font-weight: $font-weight-md;
    }
  }
}

@mixin section--title($header-color) {
  display: inline-block;
  font-size: $font-size-header-md;
  color: $header-color;
  border-bottom: solid $size-underline-link $header-color;
}

.composition {
  width: 80%;
  height: 80%;

  &-img {
    box-shadow: 0 1.5rem 4rem rgba($col-black-primary, 0.3);
    position: absolute;
    width: 45%;
    height: auto;
    transition: $ani-default;
    outline-offset: 0.3rem;

    &-1 {
      top: 0rem + $pos-img-comp-top-offset;
      left: -4rem + $pos-img-comp-left-offset;
      z-index: $z-index-top;
    }

    &-2 {
      top: 12rem + $pos-img-comp-top-offset;
      left: 18rem + $pos-img-comp-left-offset;
      z-index: $z-index-top - 1;
    }

    &-3 {
      top: 28rem + $pos-img-comp-top-offset;
      left: 0rem + $pos-img-comp-left-offset;
      z-index: $z-index-top - 2;
    }

    &:hover {
      z-index: $z-index-top + 100;
      transform: scale(1.05);
      box-shadow: 0 2.5rem 4rem rgba($col-black-primary, 0.5);
      outline: 0.5rem solid $col-main-tint-2;
    }
  }

  &:hover &-img:not(:hover) {
    transform: scale(0.9);
  }
}

@mixin feature--item--title-params($text-color, $font-size) {
  color: $text-color;
  font-size: $font-size;
}

@mixin feature--item--desc-params($font-size) {
  font-size: $font-size;
}

@mixin feature-params($margin-gap) {
  &--list {
    margin: 0rem 40rem $margin-gap * 2 40rem;
    gap: $margin-gap;
  }

  &--item {
    padding: $margin-gap 0rem;

    &--outer + &--outer {
      padding-left: $margin-gap;
    }
  }
}

.feature-box {
  @include feature-params($margin-flex-lg);

  &--list {
    display: flex;
    justify-content: center;
  }

  &--item {
    width: 100%;

    &--title {
      @include feature--item--title-params(
        $col-accent-primary,
        $font-size-text-md
      );
      display: inline-block;
      font-weight: $font-weight-md;
      text-transform: uppercase;
      letter-spacing: 0.1rem;
      margin: 1.2rem 0rem;
    }

    &--desc {
      @include feature--item--desc-params($font-size-text-md);
      text-align: left;
    }

    &--outer + &--outer {
      border-left: $border-accent-thin;
    }
  }
}

@mixin footer-params($bg-color, $position) {
  background-color: $bg-color;
  position: $position;
}

.footer {
  text-align: center;
  font-size: $font-size-text-s;
  padding-bottom: 2.4rem;
  width: 100%;
  @include footer-params($col-main-shade-2, block);
}

@mixin carousel-params($carousel-padding) {
  padding: $carousel-padding;
}

.carousel {
  width: 100%;
  height: 100%;
  @include carousel-params((3.6rem 25rem));

  &--list {
    width: 100%;
    height: 100%;
    position: relative;
    text-align: left;
    background-color: rgba($col-main-shade-2, 0.7);
  }

  &--item {
    position: absolute;
    top: 55%;
    left: 50%;
    transform: translate(-50%, -50%);

    &--active * {
      @include make-visible;
      transform: translateY(0) !important;
    }
  }

  &--btn {
    position: absolute;
    @include btn--circle;
    @include btn--default($border-accent-thin);
    border: none;
    top: 55%;
    transform: translateY(-50%);

    & + svg {
      pointer-events: none;
    }
    &--right {
      padding: 0.5rem;
      right: 5rem;
    }

    &--left {
      color: $col-accent-shade-1;
      padding: 0.5rem;
      left: 5rem;
      transform: translateY(-50%);
    }

    &:hover {
      background-color: rgba($col-accent-primary, 0.6);
      color: $col-main-shade-2;
    }
  }

  &--nav {
    display: flex;
    position: absolute;
    bottom: 13%;
    left: 50%;
    justify-content: center;
    gap: 1.2rem;
    transform: translateX(-50%);
  }

  &--dot {
    @include btn--circle;
    @include btn--default($border-accent-thin);
    position: relative;
    height: 1.2rem;
    width: 1.2rem;

    &--active {
      background-color: $col-accent-shade-1;

      //disabled effect of hovering
      &:hover {
        background-color: $col-accent-shade-1;
      }
    }
  }
}

.z-layout {
  background-color: $col-main-shade-2;
  width: 100%;
  height: 85vh;
  display: grid;
  grid-template-columns: 45fr 55fr;

  &--img {
    background-size: cover;
  }

  &--article {
    position: relative;

    &--left &--box {
      position: absolute;
      right: 10rem;
    }

    &--box {
      width: 50rem;
      position: absolute;
      bottom: 10rem;
      right: 38rem;
    }

    &--title {
      display: inline-block;
      color: $col-accent-primary;
      font-size: $font-size-text-md;
      text-transform: uppercase;
      letter-spacing: 0.1rem;
      margin-bottom: $margin-flex-lg * 1.5;
    }

    &--secondary-title {
      display: block;
      margin-bottom: $margin-flex-lg * 2.5;
      font-size: $font-size-header-md;
    }

    &--desc {
      display: block;
      margin-bottom: $margin-flex-lg * 1.5;
      font-size: $font-size-text-md;
    }

    &--btn {
      font-size: $font-size-text-lg;
      @include link-btn($col-accent-primary, $border-accent-thin);
    }
  }
}

@mixin input--group($width) {
  position: relative;
  width: $width;

  & input {
    display: block;
    padding: $pos-input-y $pos-input-x;
    font-size: $font-size-text-md;
    font-family: inherit;
    font-weight: $font-weight-sm;
    border-bottom: $border-accent-thin;
    width: 100%;
  }

  & input::placeholder {
    color: rgba($col-accent-tint-1, 0.7);
  }

  & input:focus {
    outline: none
  }


  & label {
    display: inline-block;
    position: absolute;
    bottom: $pos-input-y;
    left: $pos-input-x;
    transition: $ani-default;
    @include make-invisible;
  }

  & :not(input:placeholder-shown) + label {
    transform: translateY(3.6rem);
    font-size: $font-size-text-s;
    color: $col-accent-tint-1;
    @include make-visible;
  }
}

@mixin accordion() {
  display: flex;

}